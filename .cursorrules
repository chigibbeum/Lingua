# Lingua Project Guidelines

## § 1.0 Instructions for AI Agent

When carrying out tasks for this project, you MUST:
- Reference relevant sections from these guidelines when making decisions
- Explicitly mention which sections (by number and name) you are following
- Consult the Architecture Documentation (§ 4.4) before making significant changes
- Adhere to the Code Review Standards (§ 4.0) for all code contributions
- Follow the Design System (§ 2.2) for all UI/UX work
- Git: use Conventional Commits with scope and follow `git-workflow.md`

---

## § 2.0 Project Overview

I am a language learner who is trying to develop her grammar and vocabulary knowlege by parsing sentences and morphemes. As of now, there is not a flashcard tool accessible online that meets my needs. I wants an app/website that I can use both on my laptop and mobile devices (phone and tablet) where I can pratice parsing sentences and review learned grammar concepts and vocabulary. I want a simple website that focuses on creating sentences, forming parsing notes, and reviewing learned concepts. As for an organizational system, I would like the sentences to be organizable such as by topic (business, leisure, ordering, hobbies etc.) via a tagging system. All flashcards made from the parsed sentences should also be organized by tags (part of speech, content area, etc.) Also, for organizational purpose, every sentence or morpheme should have a created date, last reviewed date, number of vocabulary words, and number of grammar concepts tied to the one sentence. The goal is to keep the app/website simple. All coding, when able to, should be done using Svelte.

---

## § 3.0 Design System and Layout

### § 3.1 Color Palette

**Applicable to all pages of the website unless given clear direction to use a different color**

- **Main Background:** `#222831` (dark grey)
- **Section/Div Backgrounds:** `#31363F` (light grey)
- **Primary Text:**` #76ABAE` (Light blue)
- **Secondary Text/Subheadings:**`#EEEEEE` (off white)
- **Button Background:**  `#31363F` (light grey)
- **Button Text:**  `#EEEEEE` (off white)
- **Button Hover:**`#415780`(differnet light blue)

### § 3.2 Navigation Bar

- Rather than a traditional navigation bar, there will be three buttons on the right hand side laid out horizontally with even spacing that is appealing to the eye:
  - One button should say "login" and lead to a login page (other features of this page will be added later)
  - One button should say "create" and leads to a create page (other features of this page will be added later)
  - One button should say "lexicon" that will lead to a page that lists all the words they have added or created (other features of this page will be added later)
- On the top left corner should be the word LINGUA and when clicked should lead back to the home page
- Navigation bar should be featured on every page of the website

### § 3.3 Homepage

- Centered on the page should be the flashcard

### § 3.4 Icons

- All icons should be formed into a svelte component 
- All icons should have a stroke size of 1
- All icons, unless specified should be in `#EEEEEE`

### § 3.6 Login Page

*(To be defined)*

---

## § 4.0 Code Review Standards

This section defines how we review code for the LINGUA project. Use it for PR reviews, self-reviews, and pre-merge checks.

### § 4.1 Core Principles

- **Readability:** Clear, concise code with meaningful names
- **SRP/DRY/Modularity:** Single responsibility, avoid duplication, and maintain clear component boundaries
- **Idiomatic Usage:** Follow official patterns for Svelte 5/SvelteKit
- **Technical Debt:** Remove bloat and redundancies as you touch code
- **Error Handling:** Consistent, actionable errors; no swallowed exceptions
- **Security & Performance:** No new vulnerabilities; no unexpected regressions

### § 4.2 Review Checklist

#### § 4.2.1 Functional Correctness

- No regressions; existing behaviors preserved
- Edge cases identified and handled

#### § 4.2.2 Maintainability and Design

- Code is easy to read and navigate
- Adheres to Single Responsibility Principle (SRP)
- Eliminates duplication (DRY)
- Eliminates any unused variables
- Decoupled, modular components with clear boundaries
- Uses idiomatic project/library patterns
- Removes legacy code and bloat where feasible
- Consistent, appropriate error handling

#### § 4.2.3 Compliance and Security

- No new security flaws; auth and data access patterns respected
- No unexpected performance degradation or resource spikes

#### § 4.2.4 Architecture & Patterns Alignment

- Domain-driven multi-store architecture is respected
- Smart Store pattern is followed for feature-domain stores
- Svelte 5 Runes patterns and accessibility requirements are followed
- Optimistic UI patterns are used for mutations where appropriate

### § 4.3 Review Process

- Verify accessibility and keyboard navigation for interactive UI
- Prefer concrete suggestions and links to guidelines when requesting changes

### § 4.4 Architecture Documentation

The `web/documentation/architecture` folder contains several files that provide detailed information about the system's design. When working on related tasks, please refer to the relevant file as described below:

#### § 4.4.1 System Overview (`00-system-overview.md`)

- **Purpose:** Provides a high-level summary of the LINGUA application, its goals, and a diagram of the overall architecture
- **When to reference:** For general understanding of the system, client/server boundaries, and the main technology stack

#### § 4.4.2 Domain-Driven Multi-Store Approach (`01-domain-driven-multistore.md`)

- **Purpose:** Explains the rationale and implementation of the domain-driven multi-store pattern used for state management
- **When to reference:** When designing, updating, or reviewing stores, or when considering how data flows through the application

#### § 4.4.3 Smart Store Pattern (`02-smart-store-pattern.md`)

- **Purpose:** Details the Smart Store pattern, including best practices for encapsulating business logic within stores
- **When to reference:** When implementing or refactoring stores to ensure they follow the Smart Store pattern

#### § 4.4.4 Component and Page Structure (`03-component-page-structure.md`)

- **Purpose:** Outlines the organization of UI components and pages, including naming conventions and recommended boundaries
- **When to reference:** When creating new components/pages or reorganizing existing ones

#### § 4.4.5 Data Flow and Interactions (`04-data-flow-and-interactions.md`)

- **Purpose:** Describes how data moves between stores, components, and external services
- **When to reference:** When troubleshooting data issues, optimizing performance, or integrating new features

**General Guidance:**  
Always consult the relevant architecture file(s) before making significant changes to the codebase. This ensures consistency with project patterns and helps maintain long-term maintainability and clarity.

### § 4.5 Agent Guidelines

The `web/documentation/agent-guidelines` folder contains specific guidelines for common development tasks.

#### § 4.5.1 Icon Usage Guidelines (`icon-usage-guidelines.md`)

- **Purpose:** Defines how to use the Svelte 5 icon components, including prop usage, color palette integration, and import patterns
- **When to reference:** When adding icons to components, creating new icon components, or working with visual elements that need icons